<Window x:Class="Aon.Desktop.Wpf.ProfileWizardWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Profile Setup" Height="540" Width="520" WindowStartupLocation="CenterOwner">
    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" />
    </Window.Resources>
    <ScrollViewer VerticalScrollBarVisibility="Auto">
        <StackPanel Margin="16">
            <TextBlock Text="{Binding SeriesName}" FontSize="20" FontWeight="SemiBold" Margin="0,0,0,12" />

            <TextBlock Text="Character Name" FontWeight="SemiBold" />
            <TextBox Text="{Binding CharacterName, UpdateSourceTrigger=PropertyChanged}" Margin="0,4,0,12" />

            <TextBlock Text="Combat Skill" FontWeight="SemiBold" />
            <StackPanel Orientation="Horizontal" Margin="0,4,0,12">
                <TextBox Text="{Binding CombatSkill}" Width="80" Margin="0,0,8,0" />
                <Button Content="Roll" Command="{Binding RollCombatSkillCommand}" Width="80" />
            </StackPanel>

            <TextBlock Text="Endurance" FontWeight="SemiBold" />
            <StackPanel Orientation="Horizontal" Margin="0,4,0,12">
                <TextBox Text="{Binding Endurance}" Width="80" Margin="0,0,8,0" />
                <Button Content="Roll" Command="{Binding RollEnduranceCommand}" Width="80" />
            </StackPanel>

            <StackPanel Visibility="{Binding IsWillpowerAvailable, Converter={StaticResource BooleanToVisibilityConverter}}">
                <TextBlock Text="Willpower" FontWeight="SemiBold" />
                <StackPanel Orientation="Horizontal" Margin="0,4,0,12">
                    <TextBox Text="{Binding Willpower}" Width="80" Margin="0,0,8,0" />
                    <Button Content="Roll" Command="{Binding RollWillpowerCommand}" Width="80" />
                </StackPanel>
            </StackPanel>

            <StackPanel Visibility="{Binding HasSkillSelection, Converter={StaticResource BooleanToVisibilityConverter}}">
                <TextBlock Text="{Binding SkillSelectionTitle}" FontWeight="SemiBold" />
                <TextBlock Text="{Binding SelectionStatus}" Foreground="#666666" Margin="0,2,0,8" />
                <ItemsControl ItemsSource="{Binding Skills}">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <CheckBox Content="{Binding Name}" IsChecked="{Binding IsSelected}" Margin="0,0,0,4" />
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </StackPanel>

            <StackPanel Visibility="{Binding HasCoreSkills, Converter={StaticResource BooleanToVisibilityConverter}}">
                <TextBlock Text="Core Skills" FontWeight="SemiBold" Margin="0,8,0,0" />
                <TextBlock Text="Bonus Skill Points" FontWeight="SemiBold" Margin="0,4,0,0" />
                <TextBox Text="{Binding BonusSkillPoints}" Width="80" Margin="0,4,0,6" />
                <TextBlock Text="{Binding RemainingCoreSkillPoints, StringFormat=Remaining points: {0}}" Foreground="#666666" Margin="0,0,0,8" />
                <ItemsControl ItemsSource="{Binding CoreSkills}">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,6">
                                <TextBlock Text="{Binding Label}" Width="140" VerticalAlignment="Center" />
                                <Button Content="-" Command="{Binding DecreaseCommand}" Width="24" Margin="0,0,6,0" />
                                <TextBlock Text="{Binding Value}" Width="40" TextAlignment="Center" VerticalAlignment="Center" />
                                <Button Content="+" Command="{Binding IncreaseCommand}" Width="24" Margin="6,0,0,0" />
                            </StackPanel>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </StackPanel>

            <StackPanel Visibility="{Binding HasCounters, Converter={StaticResource BooleanToVisibilityConverter}}">
                <TextBlock Text="Inventory Counters" FontWeight="SemiBold" Margin="0,8,0,0" />
                <ItemsControl ItemsSource="{Binding Counters}">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,6">
                                <TextBlock Text="{Binding Name}" Width="140" VerticalAlignment="Center" />
                                <TextBox Text="{Binding Value}" Width="80" />
                            </StackPanel>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </StackPanel>

            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,16,0,0">
                <Button Content="Cancel" Width="90" Margin="0,0,8,0" Click="OnCancel" />
                <Button Content="Create Profile" Width="120" IsEnabled="{Binding IsValid}" Click="OnConfirm" />
            </StackPanel>
        </StackPanel>
    </ScrollViewer>
</Window>
